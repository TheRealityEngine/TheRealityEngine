<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

      .column {
        float: left;
        min-width:20em;
        padding: 10px;
        box-sizing:border-box;
        width: 48%
      }
      @media only screen and (max-width: 48em) {
        .column { width: 100%; }
      }
      .row:after {
        content: "";
        display: table-row;
        clear: both;
      }
      input.attrib {
        width: 30px;
      }
      .num,
      .dots {
        display: inline;
      }

      table,
      td,
      th {
        border: 1px solid black;
      }

      table {
        border-collapse: collapse;
        width: 90%;
      }

      td {
        padding: 4px;
        text-align: left;
      }

      
      h1 {
        text-align: center;
      }
      h2 {
        text-align: center;
      }
      p.res {
        text-align: center;
      }
      .aDot,
      .aCir,
      .aBox,
      .fBox {
        width: 1.4em;
        height: 1.4em;
      }
      .dieBox {
        width: 3em;
        height: 3em;
      }
      .stat {
        font-size: 1.4em;
      }
      .tiny {
        font-size: .6em;
      }

      .title {
        display: inline;
        border: 1px solid black;
        border-top-left-radius: 5px;
        border-top-right-radius: 5px;
        border-bottom: none;
        
      }
      .sticky {
        position: absolute;
        top: 0px;
        left: 0px;
        background-color: #a0a7a7; 
        width: 100%;
        height: 35px;
      }
      .bannerContent { 
        margin: 0; 
        padding: 10px; 
      }
      .infoblack {
        color: black
      }
    </style>
  </head>
  <body>
    <div class="sticky2" id="topBanner">
      
      <div class="bannerContent" id="gonnahide" style="position:absolute; top:5px; right:30px;z-index:5; display:block;">
        <input type="text" placeholder="copy the text here to save" id="saveField"><button onclick="LoadSave()">Load Save</button><input type="button" onclick="SavingStuff()" value="Save" />
        <button onclick="ToggleBox('gonnahide', 'gonnareveal'), ChangeColor('red')">More info</button>
      </div>
      <div id="gonnareveal" style="position:absolute;top:5px; right:50px;z-index:5; display:none; width:40%; background-color:whitesmoke">
        <h3 style="text-align:right;">Info Box</h3>
        <p id="infoBox" style="
        padding: 10px; overflow: scroll; max-height: 14em">Click something to put info here</p>
        <button style="float:right;" onclick="ToggleBox('gonnareveal', 'gonnahide'), ChangeColor('black')">Close</button>
      </div>
    </div>
    <br />
    <div style="position: absolute; top:30px">
    <h2 id="spellTitle" style="background-color:whitesmoke; color: gray" class="title" onclick="ToggleBox('filler', 'spellColumn')">Spell Casting</h2>
      <h2 id="abilityTitle" style="background-color:white" class="title" onclick="ToggleBox('filler', 'abilityColumn')">Attributes & Skills</h2>
      <h2 id="pcTitle" style="background-color:whitesmoke; color: gray" class="title" onclick="ToggleBox('filler', 'pcColumn')">Resources</h2>
    </div>
    <div class="casting">
    <div class="row">
      
      <div id="spellColumn" class="column" style="display:none;">
        <br />
        <p class="stat" name="gno">
          <input
            type="number"
            min="1"
            max="5"
            value="1"
            id="gnonum"
            class="attrib"
            name="Gnosis"
            oninput="NumberMe('gno')"
            style="display: none"
            
          />
          <b><span onclick="GimmeInfo('gnosis')" class="infoblack">Gnosis</span></b>
          <span id="gnoPar">What?</span>
        </p>
        <p style="font-size:1.2em">
          <b><span onclick="GimmeInfo('primarypath')" class="infoblack">Primary Path:</span></b>
        <input class="writing" type="text" id="pPath" style="width:50%; font-size:1.2em; border: 0;" placeholder="Physical, Vital, or Eventual">

        <span style="font-size:1.0em">
        <input class="writing" type="text" id="arcana1" style="width:50%; font-size:.9em; border: 0;" placeholder="1st Arcana">
        <input class="writing" type="text" id="arcana2" style="width:50%; font-size:.9em; border: 0;" placeholder="2nd Arcana">
        <input class="spec" type="text" id="arcana3" style="width:50%; font-size:.9em; border: 0; display: none" placeholder="3rd Arcana" alt="hidden" >
        <input class="spec"  type="text" id="arcana4" style="width:50%; font-size:.9em; border: 0; display: none" placeholder="4th Arcana" alt="hidden" >
        <input class="spec" type="text" id="arcana5" style="width:50%; font-size:.9em; border: 0; display: none" placeholder="5th Arcana" alt="hidden" >
        <input class="spec" type="text" id="arcana6" style="width:50%; font-size:.9em; border: 0; display: none" placeholder="6th Arcana" alt="hidden" > <br />
          </span>
        
        <input type="button" onclick="RevealArcana('arcana')" value="Add Arcana" />
      </p>

        <p class="stat" name="arc">
          <input
            type="number"
            min="1"
            max="5"
            value="1"
            id="arcnum"
            class="attrib"
            oninput="NumberMe('arc')"
            style="display: none"
          />
          <b><span onclick="GimmeInfo('arcana')" class="infoblack">Arcana Level</span></b>
          <span id="arcPar">What?</span>
        </p>
        <p class="stat" name="spe">
          <input
            type="number"
            min="1"
            value="1"
            id="spenum"
            class="attrib"
            oninput="NumberMe('spe')"
            style="display: none"
          />
          <b><span onclick="GimmeInfo('spell')" class="infoblack">Spell Level</span></b>
          <span id="spePar">What?</span>
        </p>
        <p id="spLvl"></p>
        <form>
          <br />
          <h2><span onclick="GimmeInfo('reach')" class="infoblack">Reach</span></h2>
          <p id="freeReach">Free Reach: 1</p>
          <table style="background-color: white">
            <tr>
              <th>Type</th>
              <th>Basic</th>
              <th>Advanced</th>
            </tr>
            <tr>
              <td>Casting Time</td>
              <td>
                <input
                  type="radio"
                  name="castingtime"
                  value="0"
                  checked="true"
                />Ritual (10 mins/dot)
              </td>
              <td><input type="radio" name="castingtime" value="1" />1 Turn</td>
            </tr>
            <tr>
              <td>Duration</td>
              <td>
                <input
                  type="radio"
                  name="duration"
                  value="0"
                  checked="true"
                />Turn
              </td>
              <td><input type="radio" name="duration" value="1" />Scene</td>
            </tr>
            <tr>
              <td>Distance</td>
              <td>
                <input
                  type="radio"
                  name="distance"
                  value="0"
                  checked="true"
                />Touch
              </td>
              <td>
                <input type="radio" name="distance" value="1" />Line of Sight
              </td>
            </tr>
            <tr>
              <td>Area of Effect</td>
              <td>
                <input type="radio" name="aoe" value="0" checked="true" />Arm's
                Length/One person
              </td>
              <td><input type="radio" name="aoe" value="1" />Room/~5 people</td>
            </tr>
            <tr>
              <td>Potency</td>
              <td>
                <input type="radio" name="potency" value="0" checked="true" />
                One Damage or One Dice Bonus or Penalty
              </td>
              <td>
                <input type="radio" name="potency" value="1" />Bypasses mundane
                protection
              </td>
            </tr>
          </table>
          Primary Spell Factor:

          <select id="psfactor">
            <option>Potency</option>
            <option>Duration</option>
            <option>Distance</option>
            <option>Area of Effect</option>
          </select>
          <p id="psf"></p>
          <p id="demo1" class="testing"><b>Total Reach: 0</b></p>
          <p id="demo2"><b>Over Reach: 0</b></p>
        </div>
      </div>
      </form>
        <div id="abilityColumn" class="column" style="display:block;">
          <h2 style="text-align: center"><span onclick="GimmeInfo('attributes')" class="infoblack">Attributes</span></h2>
        <table >
          <th>PHYSICAL</th>
          <th>SOCIAL</th>
          <th>MENTAL</th>
        <tr style="padding-left: 7px">
          <td>
        <input type="number" min="1" max="5" value="1" class="attrib" id="strnum" style="display: none;" oninput="NumberMe('str')"><label style="padding-left: 10px; font-size: 1.2em;"><b>Strength</b></label><span style="white-space: nowrap; float: right" id="strPar">What?</span>
          </td>
          <td>
            <input type="number" min="1" max="5" value="1" class="attrib" id="chanum" style="display: none;" oninput="NumberMe('cha')"><label style="padding-left: 10px; font-size: 1.2em;"><b>Charisma</b></label><span style="white-space: nowrap; float: right" id="chaPar">What?</span>
          </td>
          <td>
            <input type="number" min="1" max="5" value="1" class="attrib" id="intnum" style="display: none;" oninput="NumberMe('int')"><label style="padding-left: 10px; font-size: 1.2em;"><b>Intelligence</b></label><span style="white-space: nowrap; float: right" id="intPar">What?</span>
          </td>
        </tr>
        <tr>
          <td>
            <input type="number" min="1" max="5" value="1" class="attrib" id="dexnum" style="display: none;" oninput="NumberMe('dex')"><label style="padding-left: 10px; font-size: 1.2em;"><b>Dexterity</b></label><span style="white-space: nowrap; float: right" id="dexPar">What?</span>
          </td>
          <td>
            <input type="number" min="1" max="5" value="1" class="attrib" id="mannum" style="display: none;" oninput="NumberMe('man')"><label style="padding-left: 10px; font-size: 1.2em;"><b>Manipulation</b></label><span style="white-space: nowrap; float: right" id="manPar">What?</span>
          </td>
          <td>
            <input type="number" min="1" max="5" value="1" class="attrib" id="witnum" style="display: none;" oninput="NumberMe('wit')"><label style="padding-left: 10px; font-size: 1.2em;"><b>Wits</b></label><span style="white-space: nowrap; float: right" id="witPar">What?</span>
          </td>
        </tr>
        <tr>
          <td>
            <input type="number" min="1" max="5" value="1" class="attrib" id="stanum" style="display: none;" oninput="NumberMe('sta')"><label style="padding-left: 10px; font-size: 1.2em;"><b>Stamina</b></label><span style="white-space: nowrap; float: right" id="staPar">What?</span>
          </td>
          <td>
            <input type="number" min="1" max="5" value="1" class="attrib" id="comnum" style="display: none;" oninput="NumberMe('com')"><label style="padding-left: 10px; font-size: 1.2em;"><b>Composure</b></label><span style="white-space: nowrap; float: right" id="comPar">What?</span>
          </td>
          <td>
            <input type="number" min="1" max="5" value="1" class="attrib" id="resnum" style="display: none;" oninput="NumberMe('res')"><label style="padding-left: 10px; font-size: 1.2em;"><b>Resolve</b></label><span style="white-space: nowrap; float: right" id="resPar">What?</span>
          </td>
        </tr>
        </table>  
        <h2 style="text-align: center"><span onclick="GimmeInfo('skills')" class="infoblack">Skills</span></h2>
        <table>
        <tr>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="athlnum" style="display: none;" oninput="NumberMe('athl')"><label><b>Athletics</b><span onclick="AddSpecialty('athlSpec')">+</span></label><span style="white-space: nowrap; float: right" id="athlPar">What?</span><br /><input class="spec" id="athlSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="animnum" style="display: none;" oninput="NumberMe('anim')"><label><b>Animal Ken</b><span onclick="AddSpecialty('animSpec')">+</span></label><span style="white-space: nowrap; float: right" id="animPar">What?</span><br /><input class="spec" id="animSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="acadnum" style="display: none;" oninput="NumberMe('acad')"><label><b>Academics</b><span onclick="AddSpecialty('acadSpec')">+</span></label></label><span style="white-space: nowrap; float: right" id="acadPar">What?</span><input class="spec" id="acadSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
        </tr>
        <tr>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="brawnum" style="display: none;" oninput="NumberMe('braw')"><label><b>Brawl</b><span onclick="AddSpecialty('brawSpec')">+</span></label><span style="white-space: nowrap; float: right" id="brawPar">What?</span><br /><input class="spec" id="brawSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="etiqnum" style="display: none;" oninput="NumberMe('etiq')"><label><b>Etiquette</b><span onclick="AddSpecialty('etiqSpec')">+</span></label><span style="white-space: nowrap; float: right" id="etiqPar">What?</span><br /><input class="spec" id="etiqSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="awarnum" style="display: none;" oninput="NumberMe('awar')"><label><b>Awareness</b><span onclick="AddSpecialty('awarSpec')">+</span></label><span style="white-space: nowrap; float: right" id="awarPar">What?</span><br /><input class="spec" id="awarSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
        </tr>
        <tr>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="crafnum" style="display: none;" oninput="NumberMe('craf')"><label><b>Craft</b><span onclick="AddSpecialty('crafSpec')">+</span></label><span style="white-space: nowrap; float: right" id="crafPar">What?</span><br /><input class="spec" id="crafSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="insinum" style="display: none;" oninput="NumberMe('insi')"><label><b>Insight</b><span onclick="AddSpecialty('insiSpec')">+</span></label><span style="white-space: nowrap; float: right" id="insiPar">What?</span><br /><input class="spec" id="insiSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="finanum" style="display: none;" oninput="NumberMe('fina')"><label><b>Finance</b><span onclick="AddSpecialty('finaSpec')">+</span></label><span style="white-space: nowrap; float: right" id="finaPar">What?</span><br /><input class="spec" class="spec" id="finaSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
        </tr>
        <tr>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="drivnum" style="display: none;" oninput="NumberMe('driv')"><label><b>Drive</b><span onclick="AddSpecialty('drivSpec')">+</span></label><span style="white-space: nowrap; float: right" id="drivPar">What?</span><br /><input class="spec" id="drivSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="intinum" style="display: none;" oninput="NumberMe('inti')"><label><b>Intimidation</b><span onclick="AddSpecialty('intiSpec')">+</span></label><span style="white-space: nowrap; float: right" id="intiPar">What?</span><br /><input class="spec" id="intiSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="invenum" style="display: none;" oninput="NumberMe('inve')"><label><b>Investigation</b><span onclick="AddSpecialty('inveSpec')">+</span></label><span style="white-space: nowrap; float: right" id="invePar">What?</span><br /><input class="spec" id="inveSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
        </tr>
        <tr>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="firenum" style="display: none;" oninput="NumberMe('fire')"><label><b>Firearms</b><span onclick="AddSpecialty('fireSpec')">+</span></label><span style="white-space: nowrap; float: right" id="firePar">What?</span><br /><input class="spec" id="fireSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="leadnum" style="display: none;" oninput="NumberMe('lead')"><label><b>Leadership</b><span onclick="AddSpecialty('leadSpec')">+</span></label><span style="white-space: nowrap; float: right" id="leadPar">What?</span><br /><input class="spec" id="leadSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="medinum" style="display: none;" oninput="NumberMe('medi')"><label><b>Medicine</b><span onclick="AddSpecialty('mediSpec')">+</span></label><span style="white-space: nowrap; float: right" id="mediPar">What?</span><br /><input class="spec" id="mediSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
        </tr>
        <tr>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="larcnum" style="display: none;" oninput="NumberMe('larc')"><label><b>Larceny</b><span onclick="AddSpecialty('larcSpec')">+</span></label><span style="white-space: nowrap; float: right" id="larcPar">What?</span><br /><input class="spec" id="larcSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="perfnum" style="display: none;" oninput="NumberMe('perf')"><label><b>Performance</b><span onclick="AddSpecialty('perfSpec')">+</span></label><span style="white-space: nowrap; float: right" id="perfPar">What?</span><br /><input class="spec" id="perfSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="occunum" style="display: none;" oninput="NumberMe('occu')"><label><b>Occult</b><span onclick="AddSpecialty('occuSpec')">+</span></label><span style="white-space: nowrap; float: right" id="occuPar">What?</span><br /><input class="spec" id="occuSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
        </tr>
        <tr>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="melenum" style="display: none;" oninput="NumberMe('mele')"><label><b>Melee</b><span onclick="AddSpecialty('meleSpec')">+</span></label><span style="white-space: nowrap; float: right" id="melePar">What?</span><br /><input class="spec" id="meleSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="persnum" style="display: none;" oninput="NumberMe('pers')"><label><b>Persuasion</b><span onclick="AddSpecialty('persSpec')">+</span></label><span style="white-space: nowrap; float: right" id="persPar">What?</span><br /><input class="spec" id="persSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="polinum" style="display: none;" oninput="NumberMe('poli')"><label><b>Politics</b><span onclick="AddSpecialty('poliSpec')">+</span></label><span style="white-space: nowrap; float: right" id="poliPar">What?</span><br /><input class="spec" id="poliSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
        </tr>
        <tr>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="steanum" style="display: none;" oninput="NumberMe('stea')"><label><b>Stealth</b><span onclick="AddSpecialty('steaSpec')">+</span></label><span style="white-space: nowrap; float: right" id="steaPar">What?</span><br /><input class="spec" id="steaSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="strenum" style="display: none;" oninput="NumberMe('stre')"><label><b>Streetwise</b><span onclick="AddSpecialty('streSpec')">+</span></label><span style="white-space: nowrap; float: right" id="strePar">What?</span><br /><input class="spec" id="streSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="scienum" style="display: none;" oninput="NumberMe('scie')"><label><b>Science</b><span onclick="AddSpecialty('scieSpec')">+</span></label><span style="white-space: nowrap; float: right" id="sciePar">What?</span><br /><input class="spec" id="scieSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
        </tr>
        <tr>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="survnum" style="display: none;" oninput="NumberMe('surv')"><label><b>Survival</b><span onclick="AddSpecialty('survSpec')">+</span></label><span style="white-space: nowrap; float: right" id="survPar">What?</span><br /><input class="spec" id="survSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="subtnum" style="display: none;" oninput="NumberMe('subt')"><label><b>Subterfuge</b><span onclick="AddSpecialty('subtSpec')">+</span></label><span style="white-space: nowrap; float: right" id="subtPar">What?</span><br /><input class="spec" id="subtSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
          <td>
            <input type="number" min="0" max="5" value="0" class="attrib" id="technum" style="display: none;" oninput="NumberMe('tech')"><label><b>Technology</b><span onclick="AddSpecialty('techSpec')">+</span></label><span style="white-space: nowrap; float: right" id="techPar">What?</span><br /><input class="spec" id="techSpec" type="text" style="display: none; border: 0" placeholder="Specialty">
          </td>
        </tr>
        </table>
        <p><b>Perception</b>: Wits + Awareness</p> 
        <p><b>Intitiative</b>: Ongoing Melee, Ranged, New Melee, All Else</p>
        <p><b>Dodging</b>: Dexterity + Athletics</p>
        
        </div>
        <div id="pcColumn" class="column" style="display:none;">
        <br />
        <p class="stat" name="reso">
            
            
          <input
            type="number"
            min="1"
            max="10"
            value="7"
            id="resonum"
            class="attrib"
            oninput="MinMe('reso')"
          />
          <b><span onclick="GimmeInfo('resources')" class="infoblack">Total Resources</span></b>
          <span id="resoPar">What?</span>
          <span class="tiny">Mark Stains</span>
        </p>
        <h4>Risky &nbsp <img class="aDot" src="circle-filled.jpg"></h4>
        <input class="writing" type="text" id="risk1" style="width:60%;" placeholder="Skill + Attribute; Situation" alt="shown">
        <input class="spec" type="text" id="risk2" style="width:60%;" placeholder="Skill + Attribute; Situation" alt="shown">
        <input class="spec" type="text" id="risk3" style="display: none; width:60%;" placeholder="Skill + Attribute; Explanation" alt="hidden">
        <input class="spec" type="text" id="risk4" style="display: none; width:60%;" placeholder="Skill + Attribute; Explanation" alt="hidden">
        <input class="spec" type="text" id="risk5" style="display: none; width:60%;" placeholder="Skill + Attribute; Explanation" alt="hidden">
        <input class="spec" type="text" id="risk6" style="display: none; width:60%;" placeholder="Skill + Attribute; Explanation" alt="hidden">
        <button onclick="RevealRisk()">Add+</button>
        <h4>Regular &nbsp<img class="aDot" src="circle-filled.jpg"><img class="aDot" src="circle-filled.jpg"></h4>
        <input class="writing" type="text" id="regu1" style="width:60%;" placeholder="Describe"><br />
        <input class="writing" type="text" id="regu2" style="width:60%;" placeholder="Describe"><br />
        <h4>Rare &nbsp <img class="aDot" src="circle-filled.jpg"></h4>
        <input class="writing" type="text" id="rare1" style="width:60%;"><br />
        <input class="writing" type="text" id="rare2" style="width:60%;"><br />
        <input class="writing" type="text" id="rare3" style="width:60%;"><br />
        <h3>Important Items</h3>
        <input class="writing" type="text" id="item1" placeholder="Weapons" style="width:70%;"><br />
        <input class="writing" type="text" id="item2" placeholder="Artifacts" style="width:70%;"><br />
        <input class="writing" type="text" id="item3" placeholder="Clues" style="width:70%;"><br />
        <input class="writing" type="text" id="item4" placeholder="and" style="width:70%;"><br />
        <input class="writing" type="text" id="item5" placeholder="McGuffins" style="width:70%;"><br />
        <br />
        
        </div>
        <div class="column" >
          <p class="stat" name="clar">
            
            
            <input
              type="number"
              min="1"
              max="10"
              value="7"
              id="clarnum"
              class="attrib"
              oninput="MinMe('clar')"
            />
            <b><span onclick="GimmeInfo('clarity')" class="infoblack">Clarity</span></b>
            <span id="clarPar">What?</span>
            <span class="tiny">Mark Stains</span>
          </p>
          <p class="stat" name="lim">
            <input
              type="number"
              min="0"
              max="5"
              value="0"
              id="limnum"
              class="attrib"
              oninput="NumberMe('lim')"
              style="display: none"
            />
            <b><span onclick="GimmeInfo('decoherence')" class="infoblack">Decoherence</span></b>
            <span id="limPar">What?</span>
            
          </p>
          <b><span onclick="GimmeInfo('obsession')" class="infoblack">Obsession</span></b><input type="text" class="writing" id="obse1" placeholder="Describe Your Obsession">
          <input type="text" class="writing" id="obse2" placeholder="Attribute + Skill">
          <p class="stat" name="wil">
            
            <b><span onclick="GimmeInfo('willpower')" class="infoblack">Willpower</span></b>
            <span id="wilPar">What?</span>
            <input
              type="number"
              min="1"
              max="10"
              value="10"
              id="wilnum"
              class="attrib"
              oninput="MaxMe('wil')"
            />
            <span class="tiny">set max</span>
            <br />
            <input type="number" min="0" id="wilAg" value="0" class="boxes" style="display: none" />
            <input type="number" min="0" id="wilBa" value="0" class="boxes" style="display: none" />
          </p>
          <p class="stat" name="heal">
            
            <b><span onclick="GimmeInfo('health')" class="infoblack">Health</span></b>
            <span id="healPar">What?</span>
            <input
              type="number"
              min="1"
              max="10"
              value="10"
              id="healnum"
              class="attrib"
              oninput="MaxMe('heal')"
            />
            <span class="tiny">set max</span>
            <input type="number" min="0" id="healAg" value="0" class="boxes" style="display: none" />
            <input type="number" min="0" id="healBa" value="0" class="boxes" style="display: none" />
          </p>
          <h2>Roll Dice</h2>
          <form>
          Your Dice Pool:
          <select id="myPool">
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
            <option>6</option>
            <option>7</option>
            <option>8</option>
            <option>9</option>
            <option>10</option>
            <option>11</option>
            <option>12</option>
            <option>13</option>
            <option>14</option>
            <option>15</option>
          </select>
          <br />
          <p id="spelltotal" class="res"></p>
          <p id="spellresults1" class="res"></p>
          <p id="spellresults2" class="res"></p>
        </form>
          <br /><br />
        
        <input type="button" id="spell" value="Spell Roll" onclick="RollDice('spell')" />
        <input type="button" id="ability" value="Ability Check" onclick="RollDice('ability')" />
        <br />
        <p id="threemax"></p>
        <p id="demo"></p>

        <input type="button" id="rero" value="Willpower Reroll" />
      </div>
    </div>
 


    <script>
      var resultArray = [];
      var stats = ["gno", "arc", "lim", "spe", "str", "cha", "int", "dex", "man", "wit", "sta", "com", "res", "athl", "anim", "acad", "braw", "driv", "fire", "etiq", "awar", "craf", "insi", "fina", "inti", "inve", "lead", "medi", "larc", "perf", "occu", "mele", "pers", "poli", "stea", "stre", "scie", "surv", "subt", "tech"]
      var text1 = " ";
      var circle =
        "circle-empty.jpg";
      var filled =
        "circle-filled.jpg";
      var square =
        "square-empty.jpg";
      var squareSlash =
        "square-slash.jpg";
      var squareStar = 
        "square-star.jpg";
      var squareFilled = 
        "square-filled.jpg"
      var onesucc =
        "succ.jpg";
      var twosucc =
        "succsucc.jpg";
    

        function RevealRisk() {
      for (i=3; i<7; i++) {
        let arcId = "risk" + i;
        let nextId = document.getElementById(arcId);
        let aAlt = nextId.alt;
        
        if (aAlt == "hidden") {
          nextId.style["display"] = "block";
          nextId.alt = "shown";
          break
        } else if (aAlt == "shown") {
          continue;
        } 
      }

      }

      function RevealArcana() {
      for (i=3; i<7; i++) {
        let arcId = "arcana" + i;
        let nextId = document.getElementById(arcId);
        let aAlt = nextId.alt;
        
        if (aAlt == "hidden") {
          nextId.style["display"] = "block";
          nextId.alt = "shown";
          break
        } else if (aAlt == "shown") {

          continue;

        } 
      }

      }

    function AddSpecialty(skill) {
      GimmeInfo("specialties");
      let parId = document.getElementById(skill);
      parId.style["display"] = "block";
    }  

    function LoadSave() {
      let field = document.getElementById("saveField");
      let data = field.value;
      let array2 = data.split(",");
      let len = array2.length;
      let newArray2 = array2[0].split(":")
      for (let i = 0; i < len; i++) {
        pair = array2[i];
        newArray = pair.split(":");
        statId = newArray[0];
        statnum = newArray[1];
        document.getElementById(statId).value = statnum;
        document.getElementById(statId).dispatchEvent(new Event("input"));
      }
      
      RevealSpecialty();
      UpdateBoxes('wil');
      UpdateBoxes('heal');
    }

    function RevealSpecialty() {
      let obj1 = document.getElementsByClassName("spec");
      len = obj1.length;
      for (let i = 0; i < len; i++) {
        specId = obj1[i].id
        spex = document.getElementById(specId)
        field = obj1[i];
        val = field.value;
        len2 = val.length;
        if (len2 != 0) spex.style["display"] = "block";
      }
      
    }

    function SavingStuff() {
      CountDamage("wil");
      CountDamage("heal");
      let obj1 = document.querySelectorAll(".attrib,.spec,.boxes,.writing");;
      let array1 = [];
      let len = obj1.length;
      for (let i = 0; i < len; i++) {
        statName = obj1[i].id;
        statVal = obj1[i].value;
        statVal1 = statVal.replaceAll(":", "-")
        statVal2 = statVal1.replaceAll(",", ";");
        statPair = statName+":" + statVal2;
        array1.push(statPair);
      }
      document.getElementById("saveField").value = array1;
    }  
    
    function GettinValues(element) {
      let val = document.getElementById(element).value;
      return val;
    }
    
    function LoadThings() {
      BoxifyAll("heal");
      BoxifyAll("wil");
      ClarifyAll("clar");
      ClarifyAll("reso");
      let len = stats.length;
      for (let i = 0; i < len; i++) {
        sta = stats[i];
        DotifyAll(sta);
      }
      
    }

    function DotifyAll(attName) { 
      let parId = attName + "Par";
      let parPar = document.getElementById(parId);
      let statNum = attName + "num";
      let numId = document.getElementById(statNum)
      let text6 = " ";
      for (i = 1; i <= 5; i++) {
        if (attName == "spe") text6 +=
          "<input class='aCir' type='image' src='circle-empty.jpg' id='" +
          attName +
          i +
          "' onclick=\"ClickLim('" +
          attName +
          "', " +
          i +
          ')" />';
        else
        text6 +=
          "<input class='aCir' type='image' src='circle-empty.jpg' id='" +
          attName +
          i +
          "' onclick=\"ClickMe('" +
          attName +
          "', " +
          i +
          ')" />';
      }
      
      parPar.innerHTML = text6;
      document.getElementById(statNum).dispatchEvent(new Event("input"));
    }

    function BoxifyAll(attName) { 
      parId = attName + "Par";
      parPar = document.getElementById(parId);
      let text6 = " ";
      for (i = 1; i <= 10; i++) {
        text6 +=
          "<input class='aBox' type='image' alt='square' src='square-empty.jpg' id='" +
          attName +
          i +
          "' onclick=\"MarkMe('" +
          attName +
          "', " +
          i +
          ')" />';
      }
      
      parPar.innerHTML = text6;
    }

    function ClarifyAll(stat) { 
      let par = stat + "Par";
      parPar = document.getElementById(par);
      let text6 = " ";
      let num = stat + "num";
      val = document.getElementById(num).value;
      realVal = Number(val) + 1
      for (i = 1; i <= 10; i++) {
        if (i < realVal)
        text6 +=
          "<input class='aBox' type='image' alt='nope' src='square-filled.jpg' id='" + stat + 
          i +
          "' onclick=\"MarkMe('" + stat + 
          "', " +
          i +
          ')" />';
        else if (i < 11)
        text6 +=
          "<input class='aBox' type='image' alt='square' src='square-empty.jpg' id='" + stat + 
          i +
          "' onclick=\"MarkMe('" + stat +
          "', " +
          i +
          ')" />';
      }  
      parPar.innerHTML = text6;
    }

    window.onload = function () {
        LoadThings();
      };

      function ToggleBox(hide, reveal) {
        if (hide != "filler") {
        let hidden = document.getElementById(hide);
        let revealed = document.getElementById(reveal);
        hidden.style["display"] = "none";
        revealed.style["display"] = "block";
        } else if (hide == "filler") {
        let spell = document.getElementById('spellTitle');
        let sCol = document.getElementById('spellColumn');
        let ability = document.getElementById('abilityTitle');
        let aCol = document.getElementById('abilityColumn');
        let pc = document.getElementById('pcTitle');
        let pCol = document.getElementById('pcColumn');
        if (reveal == 'abilityColumn') {
          sCol.style["display"] = "none";
          spell.style["background-color"] = "whitesmoke";
          spell.style["color"] = "gray";
          spell.style["border-bottom"] = "1px";
          pc.style["background-color"] = "whitesmoke";
          pCol.style["display"] = "none";
          pc.style["color"] = "gray";
          pc.style["border-bottom"] = "1px";
          aCol.style["display"] = "block";
          ability.style["background-color"] = "white";
          ability.style["color"] = "black";
          ability.style["border-bottom"] = "none";
        }
        else if (reveal == 'spellColumn') {
          sCol.style["display"] = "block";
          spell.style["background-color"] = "white";
          spell.style["color"] = "black";
          spell.style["border-bottom"] = "none";
          pc.style["background-color"] = "whitesmoke";
          pCol.style["display"] = "none";
          pc.style["color"] = "gray";
          pc.style["border-bottom"] = "1px";
          aCol.style["display"] = "none";
          ability.style["background-color"] = "whitesmoke";
          ability.style["color"] = "gray";
          ability.style["border-bottom"] = "1px";
        } else if (reveal == 'pcColumn') {
          pCol.style["display"] = "block";
          pc.style["background-color"] = "white";
          pc.style["color"] = "black";
          pc.style["border-bottom"] = "none";
          sCol.style["display"] = "none";
          spell.style["background-color"] = "whitesmoke";
          spell.style["color"] = "gray";
          spell.style["border-bottom"] = "1px";
          aCol.style["display"] = "none";
          ability.style["background-color"] = "whitesmoke";
          ability.style["color"] = "gray";
          ability.style["border-bottom"] = "1px";
        }
        }
      }


      function ClickMe(stat, dot) {
        let dotId = stat + dot;
        let demog = document.getElementById(dotId);
        let numId = stat + "num";
        let dotFixed = Number(dot);
        let numStat = document.getElementById(numId);
        statMin = numStat.min;
        let currentVal = numStat.value;
        for (i = 1; i < 6; i++) {
          if (statMin == 1 || currentVal != 1 || dotFixed != 1) {
          numStat.value = dotFixed;
          let newImg = stat + i;
          if (i > dotFixed) document.getElementById(newImg).src = circle;
          else if (i <= dotFixed) document.getElementById(newImg).src = filled;
        } else  {
          numStat.value = 0;
          let newImg = stat + i;
          document.getElementById(newImg).src = circle;
        }
        }
      }

      function MarkMe(stat, box) {
        let numBox = Number(box)
        let boxId = stat + numBox;
        if (box > 1) {
        numLeft = numBox - 1;
        idLeft = stat + numLeft;
        boxLeft = document.getElementById(idLeft);
        }
        if (box < 10) {
        numRight = numBox + 1;
        idRight = stat + numRight;
        boxRight = document.getElementById(idRight);
        }
        let mainBox = document.getElementById(boxId);
        if (box == 10 || boxRight.alt == "square" || boxRight.alt == "nope") {
        if (box == 1 || boxLeft.alt != "square" || boxLeft.alt == "nope") {
        if (mainBox.alt == "square") {
          mainBox.src = squareSlash; 
          mainBox.alt = "slash";
        }
        else if (mainBox.alt == "slash") {
          if (box == 1 || boxLeft.alt == "star" || boxLeft.alt == "nope") {
          mainBox.src = squareStar;
          mainBox.alt = "star"
        } else {
          mainBox.src = square;
          mainBox.alt = "square"
        }
        }
        else if (mainBox.alt == "star") {
          mainBox.src = square;
          mainBox.alt = "square"
        }
      }
      }
      else if (boxRight.alt == "slash" && mainBox.alt == "slash") {
        if (box == 1 || boxLeft.alt == "star" || boxLeft.alt == "nope") {
          mainBox.src = squareStar;
          mainBox.alt = "star"
        }
      }
      
      }

      function CountDamage (stat) {
        let bash = 0;
        let agg = 0;
        let bashTot = stat + "Ba";
        let aggTot = stat + "Ag"
        let bashId = document.getElementById(bashTot);
        let aggId = document.getElementById(aggTot);
        for (let i=1; i<11; i++) {
          let statNum = stat + i;
          let statId = document.getElementById(statNum)
          let statAlt = statId.alt;
          if (statAlt == "slash") bash++;
          else if (statAlt == "star") agg++
        }
        bashId.value = bash;
        aggId.value = agg;
      }

      function UpdateBoxes(stat) {
        let bashTot = stat + "Ba";
        let aggTot = stat + "Ag"
        let bashId = document.getElementById(bashTot);
        let aggId = document.getElementById(aggTot);
        let bashVal = Number(bashId.value);
        let aggVal = Number(aggId.value);
        let totVal = bashVal + aggVal;
        if (totVal > 0) {
        for (let i=1; i<=totVal; i++ ) {
          MarkMe(stat, i)
        }
        }
        if (aggVal > 0) {
        for (let i=1; i<=aggVal; i++ ) {
          MarkMe(stat, i)
        }
        }
      }

      function MaxMe(stat) {
        let numId = stat + "num";
        let val = document.getElementById(numId).value;
        let boxId = stat + val;
        let altText = document.getElementById(boxId).alt;
        for (i = val; i < 11; i++) {
          newImg = stat + i;
          if (i > val) {
            document.getElementById(newImg).src = squareFilled;
            document.getElementById(newImg).alt = "nope";
          }
          else if (i = val) {
            if (altText == "nope" || altText == "square") {
            document.getElementById(newImg).src = square;
            document.getElementById(newImg).alt = "square";
          } else if (altText == "slash") {
            document.getElementById(newImg).src = squareSlash;
            document.getElementById(newImg).alt = "slash";
          } else if (altText == "star") {
            document.getElementById(newImg).src = squareStar;
            document.getElementById(newImg).alt = "star";
          }
          }
        }
      }

      function MinMe(stat) {
        let numId = stat + "num";
        let val = document.getElementById(numId).value;
        for (i = 1; i < 11; i++) {
          newImg = stat + i;
          if (i <= val) {
            document.getElementById(newImg).src = squareFilled;
            document.getElementById(newImg).alt = "nope";
          }
          else if (i > val) {
            document.getElementById(newImg).src = square;
            document.getElementById(newImg).alt = "square";
          }
        }
      }

      function ClickLim(stat, dot) {
        let dotId = stat + dot;
        let demog = document.getElementById(dotId);
        let num = stat + "num";
        let arcLvl = document.getElementById("arcnum").value;
        dot = Number(dot);
        if (arcLvl >= dot) {
          document.getElementById(num).value = dot;
          for (i = 1; i < 6; i++) {
            newImg = stat + i;
            if (i > dot) document.getElementById(newImg).src = circle;
            else if (i <= dot) document.getElementById(newImg).src = filled;
          }
        }
      }



      function NumberMe(stat) {
        let numId = stat + "num";
        let val = document.getElementById(numId).value;
        ClickMe(stat, val);
      }

      function UpdateReach() {
        let element = document.getElementById("demo1");
        casting = Number(CheckValue("castingtime"));
        duration = Number(CheckValue("duration"));
        distance = Number(CheckValue("distance"));
        aoe = Number(CheckValue("aoe"));
        potency = Number(CheckValue("potency"));
        totalreach = casting + duration + distance + aoe + potency;
        return totalreach;
      }

      function UpdateText() {
        const obj2 = document.getElementById("demo1");
        const obj3 = document.getElementById("demo2");
        var totalreach = UpdateReach();
        var overreach = OverReach();
        obj2.innerHTML = "<b>Total Reach: </b>" + totalreach;
        if (overreach > 0) {
          obj3.innerHTML =
            "<b><FONT COLOR=red>Over Reach: </b>" +
            overreach +
            "<br>Warning: Successes are automatically applied to Over Reach <br> &nbsp&nbsp If there are insufficient succcesses, an Anomaly might occur";
        } else if (overreach <= 0) {
          obj3.innerHTML = "<b><FONT COLOR=black>Over Reach: </b>" + overreach;
        }
      }

      function OverReach() {
        var arcLvl = document.getElementById("arcnum").value;
        var spellLvl = document.getElementById("spenum").value;
        availReach = arcLvl - spellLvl + 1;
        var totalReach = UpdateReach();
        let overReach = totalReach - availReach;
        if (overReach > 0) return overReach;
        else return 0;
      }

      document.addEventListener("input", UpdateText);
      document.addEventListener("input", FactorAlert);
      document.addEventListener("click", FreeReach);

      function FreeReach() {
        var arcVal = document.getElementById("arcnum").value;
        var spell = document.getElementById("spenum");
        spell.max = arcVal;
        parId = document.getElementById("freeReach");
        freeR = 1 + Number(arcVal) - Number(spell.value);
        parId.innerHTML = "Free Reach: " + freeR;
      }

      function FactorAlert() {
        let parid = document.getElementById("psf");
        let obj = document.getElementById("psfactor");
        let psf = obj.options[obj.selectedIndex].text;
        if (psf == "Potency")
          parid.innerHTML =
            "<FONT COLOR=blue>Each success will grant +1 damage, bonus dice, or penalty dice";
        else if (psf == "Duration")
          parid.innerHTML =
            "<FONT COLOR=blue>Spell lasts for as many turns as successes";
        else if (psf == "Distance")
          parid.innerHTML =
            "<FONT COLOR=blue>Spell can be cast on a target at the distance of 5ft x the number of successes";
        else if (psf == "Area of Effect")
          parid.innerHTML =
            "<FONT COLOR=blue>Spell effects an area of a radius 5ft x # of success or number of people equal to successes";
      }


      function CheckValue(radioname) {
        var obj1 = document.getElementsByName(radioname);
        for (i = 0; i < obj1.length; i++) {
          if (obj1[i].checked) return obj1[i].value;
        }
      }


      function RollDice(rollType) {
        rt = rollType;
        resultArray = [];
        var liminality = document.getElementById("limnum").value;
        let obj = document.getElementById("myPool");
        let pool = Number(obj.options[obj.selectedIndex].text);
        while (pool > 0) {
          roll = Math.floor(Math.random() * 10) + 1;
          if (roll > 9) {
            pool--;
            result = { dieRoll: roll, status: "Critical Success" };
            resultArray.push(result);
          } else if (roll > 5) {
            pool--;
            result = { dieRoll: roll, status: "Success" };
            resultArray.push(result);
          } else if (roll > 1) {
            pool--;
            result = { dieRoll: roll, status: "Failure" };
            resultArray.push(result);
          } else if (roll > 0) {
            pool--;
            result = { dieRoll: roll, status: "Critical Failure" };
            resultArray.push(result);
          }
        }
        PrintResults(resultArray, rollType);
      }

      function PrintResults(resultArray, rollType) {
        var liminality = document.getElementById("limnum").value;
        let overreach = OverReach();
        let rLen = resultArray.length;
        let succ = 0;
        let critSuc = 0
        let critFail = 0
        let lim = liminality - 1;
        let text1 = " ";
        let st = document.getElementById("spelltotal");    
        let sr1 = document.getElementById("spellresults1");
        let sr2 = document.getElementById("spellresults2");
        st.innerHTML = " ";
        sr1.innerHTML = " ";
        sr2.innerHTML = " ";      
        for (let i = 0; i < rLen; i++) {
          let result = resultArray[i].dieRoll;
          let dieImg = "hmm";
          if (result > 9) {
            if (i < liminality) {
              dieImg = "<img class='dieBox' src='succ-succp.jpg'>";
            }
            else if (i >= liminality) {
              dieImg = "<img class='dieBox' src='succ-succ.jpg'>";
            }
          }
          else if (result < 10 && result > 5) {
            if (i < liminality) {
              dieImg = "<img class='dieBox' src='succp.jpg'>";
            }
            else if (i >= liminality) {
              dieImg = "<img class='dieBox' src='succ.jpg'>";
            }
          }
          else if (result < 6 && result > 1) {
            if (i < liminality) {
              dieImg = "<img class='dieBox' src='failp.jpg'>";
            }
            else if (i >= liminality) {
              dieImg = "<img class='dieBox' src='fail.jpg'>";
            }
          }
          else if (result < 2) {
            if (i < liminality) {
              dieImg = "<img class='dieBox' src='skullp.jpg'>";
            }
            else if (i >= liminality) {
              dieImg = "<img class='dieBox' src='skull.jpg'>";
            }
          }
          if (resultArray[i].dieRoll > 9) critSuc++;
          else if (resultArray[i].dieRoll == 1) critFail++;
          if (i <= lim) {
            text1 += "<FONT COLOR=purple>";
          }
          else if (i > lim) text1 += "<FONT COLOR=black> ";
          text1 +=
            dieImg + " "  + " " + " " + "";
          if (resultArray[i].dieRoll > 9) {
            succ++;
            succ++;
          } else if (resultArray[i].dieRoll > 5) succ++;
          
        }
        if (rollType == "ability") {
          crits = critSuc + critFail;
          if (crits > 0) sr1.innerHTML = "<FONT-COLOR=red><b>Arcana Bleed: " + crits + "</b><br /><FONT-COLOR=black>";
          st.innerHTML  = "<b> Total Successes: " + succ + "</b></ul>";
          document
          .getElementById("rero")
          .setAttribute("onclick", "SetupReroll(resultArray, 'ability')");
        }
        else if (rollType == "spell") {
          total = succ - overreach;
        if (total > 0) {
          if (critSuc > 0) {sr1.innerHTML = "<b>Possible Spell Surge: " + critSuc + "</b><br />";
          st.innerHTML = "<b> Total Successes: " + total + "</b><br />One success applied to Overreach</ul>";
        }
          if (critFail > 0) sr2.innerHTML = "<b>Possible Anomaly: " + critFail + "</b><br />";
          st.innerHTML = "<b> Total Successes: " + total + "</b></ul>";
        } else if (total == 0 && critFail < 1) { st.innerHTML = "No Successes <br />The spell is not forming as you'd hope.<br />You can strain local reality to force 1 Success.";
        } else if (total <= 0) {
          anomaly = overreach - succ;
          sr2.innerHTML = "<b>Possible Reality Tear <b>";
          if (critFail > 0) sr2.innerHTML =
            "<FONT COLOR=purple><h2>You have triggered an Anomaly<h2> ";
              st.innerHTML = " Total Successes: -" + anomaly + "</ul>";
        }
        document
          .getElementById("rero")
          .setAttribute("onclick", "SetupReroll(resultArray, 'spell')");
        }
        document.getElementById("demo").innerHTML = text1;
      }

      function SetupReroll(resultArray, rollType) {
        var liminality = document.getElementById("limnum").value;
        let rLen = resultArray.length;
        let succ = 0;
        let lim = liminality - 1;
        let text1 =
          "<br /><form method='post' name='will_form' id='will_form'>";
        
        if (rollType == "ability") {
        for (let i = 0; i < rLen; i++) {
          if (i <= lim)
            text1 +=
              "<li><FONT COLOR=gray><strike> <input type='checkbox' name='check[]' value='Check Box " +
              i +
              "' onclick='return false'/>";
          else if (i > lim)
            text1 +=
              "<li><FONT COLOR=black> <input type='checkbox' name='check[]' value='Check Box " +
              i +
              "' onclick=checkBoxLimit('ability') />";
          text1 +=
            "<label id=result" +
            i +
            "> " +
            resultArray[i].status +
            " " +
            resultArray[i].dieRoll +
            "</label></li></strike>";
        }
        }
        else if (rollType == "spell") {
        for (let i = 0; i < rLen; i++) {
          if (i <= lim)
            text1 +=
            "<li><FONT COLOR=purple> <input type='checkbox' name='check[]' value='Check Box " +
              i +
              "' onclick=checkBoxLimit('spell') />";
          else if (i > lim)
            text1 +=
            "<li><FONT COLOR=gray><strike> <input type='checkbox' name='check[]' value='Check Box " +
              i +
              "' onclick='return false'/>";       
          text1 +=
            "<label id=result" +
            i +
            "> " +
            resultArray[i].status +
            " " +
            resultArray[i].dieRoll +
            "</label></li></strike>";
        }
        }
        document.getElementById("demo").innerHTML = text1;
        document.getElementById("rero").setAttribute("value", "Reroll Now");
      }

      function checkBoxLimit(rollType) {
        var checkBoxGroup = document.forms["will_form"]["check[]"];
        var limit = 3;
        if (rollType == "spell") {
          document
          .getElementById("rero")
          .setAttribute("onclick", "ActualReroll('spell')");
        }
        else if (rollType == "ability") {
          document
          .getElementById("rero")
          .setAttribute("onclick", "ActualReroll('ability')");
        }
        for (var i = 0; i < checkBoxGroup.length; i++) {
          checkBoxGroup[i].onclick = function () {
            var checkedcount = 0;
            for (var i = 0; i < checkBoxGroup.length; i++) {
              checkedcount += checkBoxGroup[i].checked ? 1 : 0;
            }
            if (checkedcount > limit) {
              document.getElementById("threemax").innerHTML =
                "<FONT COLOR=red>You can only select 3 boxes";
              this.checked = false;
            }
          };
        }
      }

      function ActualReroll(rollType) {
        var checkBoxGroup = document.forms["will_form"]["check[]"];
        let rero = document.getElementById("rero")
        rero.value = "Willpower Reroll";
        document.getElementById("threemax").innerHTML = " ";
        for (var i = 0; i < checkBoxGroup.length; i++) {
          resLabel = "result" + i;
          findit = document.getElementById(resLabel);
          if (checkBoxGroup[i].checked) {
            newroll = Math.floor(Math.random() * 10) + 1;
            resultArray[i].dieRoll = newroll;
            if (newroll > 9) resultArray[i].status = "Critical Success";
            else if (newroll > 5) resultArray[i].status = "Success";
            else if (newroll > 1) resultArray[i].status = "Failure";
            else if (newroll > 0) resultArray[i].status = "Critical Failure";
            PrintResults(resultArray, rollType);
          }
        }
      }

      function ChangeColor(color) {
        var els = document.getElementsByClassName('infoblack');
        for (var i = 0; i < els.length; i++) {
          els[i].style.color = color;
        }
      }

      function GimmeInfo(subject) {
      let parId = document.getElementById("infoBox");
      if (subject == "willpower")
        parId.innerHTML ="<b>Willpower:</b> Equal to Resolve+Composure. At the start of each game, you get back points equal to the higher of the two.<br />You can use a WP point to reroll up to 3 dice. However, for Spell Rolls you can only reroll Decoherence dice, and for Ability Rolls you can only reroll NON-Decoherence dice.<br />If you spend your last WP, you have -2 to all rolls. ";
      else if (subject == "gnosis")
        parId.innerHTML ="<b>Gnosis:</b> VtM Equivalent: Blood Potency.<br />Added to all Spell Rolls (along with the relevant Arcana Level), this measures your overall strength as a mage and your ability to interact with the supernatural<br />As your Gnosis increases, you may find it harder to satisfy your obsession.";
      else if (subject == "primarypath")
        parId.innerHTML ="<b>Primary Path:</b> The three main paths are Physical, Vital, and Eventual. These indicate what you believe is most important to your theory of reality.<br />Physical (Matter, Forces, Space) is the infrastructure of reality. This could mean that you believe that the built world is how best to exploit the simulation you are trapped in, Matrix-style, or that what is being studied are the physical objects and forces of reality and understanding them is the key the getting out.<br />Vital (Mind, Life, and Prime) are the elements acting in reality. You might think we are all dreaming and understanding the dreamers is the way forward, or you may think that people create weak points that can be exploited.<br /> Eventual (Fate, Time, Death) are the events that occur in reality. You might think that this is an afterlife and learning what happens to people as they act will help you learn the rules and how to use them, or you might believe we are all trapped in time loops and studying the loops is how you get out of one.<br />Mechanically, it affects how much experience must be spent to increase your dots in an Arcana. Gaining a new dot in your path costs 5x the new level. Outside your path costs 7x the new level. Additionally, your highest starting arcana must be in your Primary path."
      else if (subject == "arcana")
        parId.innerHTML ="<b>Arcana Level:</b> Your overall ability to manipulate a specific element of reality. The 9 Arcana are split into 3 broader spheres of influence:<br /> Physical (Matter, Forces, Space), Vital (Mind, Life, Prime), and Eventual (Fate, Time, Death). How you can affect an Arcana is determined by the Spell Level.";
      else if (subject == "spell")
        parId.innerHTML ="<b>Spell Level:</b><br />One Dot: Gain Knowledge, Reveal something hidden, Make something happen that is likely to happen.<br />Two Dots: Protection, Hiding Something, Make something happen that is very unlikely but possible. Add dice to a roll.<br />Three Dots: Do Bashing damage. Heal Bashing damage. Make something happen that is normally impossible without mundane intervention. Add to/Subtract from a Stat.<br />Four Dots: Make something impossible happen. Change a property of something to a different but related property.<br />Five Dots: Make something new or delete something from existence."; 
      else if (subject == "reach")
        parId.innerHTML ="<b>Reach:</b> This is your ability to push a spell beyond its normal limits. You get 1 free reach plus the difference between the Arcana Level and the Spell Level.<br />You can push beyond this, creating Overreach. Overreach is subtracted from your successes. If you dont have enough successes, an anomaly might occur.";
      else if (subject == "resources")
        parId.innerHTML ="<b>Resources:</b><br />Character Creation: You start with 7 dots in Resources, one in each category (totaling 4) then the other 3 distributed as you like.<br /><b>Losing Resources</b>:If you spend a Rare Resource, you will lose that point of Resources. Also, you will stain your resources on a Critically Failed resources roll. At the end of a session, you roll for Resources (similar to clarity). On a failure, you choose which dot is most appropriate to lose. If you choose to lose a Regular Resource, you can gain one dot in Risky or Rare (whichever makes most sense).<br /><b>Risky Resources</b> are those that are situational and have a risk of failure. These are ways that you might be able to acquire resources, (with a successful roll), eg. Dexterity + Larceny to pickpocket tourists.  A Critical Success on a successful roll will lower your Decoherence. A Critical Failure will stain your Resources. <br /><b>Regular Resources</b> are a mage's touchstones to pre-awakened life and is the best way to lower decoherence. No single roll is associated, but will depend on the interaction. Additionally, these represent responsibilities that may crop up. This can be a job, access to a family trust, etc. <br /><b>Rare Resources</b> are things like a favor you are owed, a big score you keep in your back pocket, or a precious item you've been saving. Once used, these are gone.";
      else if (subject == "decoherence")
        parId.innerHTML ="<b>Decoherence:</b> VtM (somewhat) equivalent to Hunger<br />You need at least one Dot of Decoherence in order to cast spells. You usually raise your Decoherence by feeding your Obsession during downtime and by your morning Rouse check. You usually lower it by Maintaining Regular Resources during downtime<br />When casting spells, you can only reroll Decoherence dice. A Critical Failure on a failed spell roll will lead to an Anomaly, so low Decoherence decreases your ability to reroll to mitigate this risk.<br />A Critical Success on a successful spell roll will lead to a Spell Surge (Reach is added), which means the spell might last longer or affect more people than intended.<br />When making an Ability roll, you can reroll Normal dice but NOT Decoherence dice. All crits (1s & 10s) lead to Arcana Bleed, with your dominant Arcana leaking into the real world. This will lead to a Complicated Success or a Complicated Failure, depending on the roll.";
      else if (subject == "obsession")
        parId.innerHTML ="<b>obsession:</b> VtM (somewhat) equivalent to Feeding Type.<br />Feeding your Obsession raises your Decoherence, giving you better control over your spell casting. However, you've tried everything easy. The only things left take risk (and are usually illegal).<br />Your particular Obsession, your Path, and your Arcana all go hand in hand, with the way you access the true nature of reality shaped by your theory of how it works.<br />Among Mages, there are many theories about what reality actually is. Some believe humanity is stuck in a maze and open doors day after day, hoping to find the Exit. Some think reality is playing in a loop and track details from world events to where the mayor goes for coffee to find how to break out of it. Some believe reality is a computer simulation, with cyberspace being a window into reality or the lifeblood of it, depending on who you ask. And some think this is all a Laboratory, with humanity either as the central test subjects or living variables to test the creatures of the Void.>br />These theories and more abound in Mage circles.";
      else if (subject == "health")
        parId.innerHTML ="<b>Health:</b> Your Health is equal to Stamina+Size (5). There are two types of damage, Bashing (indicated by a single slash)and Aggravated (three slashes). Place them left to right, with more serious damage farthest left. If your health track is full, roll Stamina each round to stay conscious.<br />Healing: Bashing damage heals one point per hour and Aggravated heals one point per 3 days. Some 2 dot spells can reduce this time, some 3 dot spells can heal Bashing, and 4 dot spells can heal Aggravated.";
      else if (subject == "clarity")
        parId.innerHTML ="<b>Clarity:</b> VtM equivalent to Humanity<br />Your Clarity is your overall grasp of the Sleeping world, how it feels for those who are still asleep, and your connection to the rest of humanity. As a mage's clarity declines, they often find it harder to interact with sleepers and the mundane world.<br />Severe aggressions against reality and sleeping humans will stain your clarity. Mark the empty remaining boxes on your clarity track. At the end of each session, you will roll dice equal to the unmarked boxes.<br />Any success allows you to maintain your Clarity. Fail the roll and your Clarity declines as the Sleeping world fades from your understanding.";
      else if (subject == "attributes")
        parId.innerHTML ="<b>Attributes:</b> These are your 9 Attributes. The Top row are your Power stats, the middle row are your Finesse stats, and the bottom row are your Resistance stats. Your Health is determined by your Stamina + Size (5). Your Willpower is Resolve + Composure.<br />Most ability rolls will be an Attribute + a skill (eg. Wits + Awareness for perception, Hand-to-hand combat is Strength + Brawl, Melee weapons are Dexterity + Melee, and Firearms are usually Composure + Firearms.), but some will be two Attributes (eg. Resolve + Composure).<br />In character creation, each stat starts with one Dot. You then can assign 5 dots, 4 dots, and 3 dots each to a column as you see fit. You then add one additional dot to one Resistance stat (ie the bottom row)";
      else if (subject == "skills")
        parId.innerHTML ="<b>Skills:</b> These will always be paired with an Attribute for dice rolls. For character creation, you have 3 options:<br />-Jack of All Trades: One skill at 3 dots, eight skills at 2, ten skills at 1<br />-Balanced: Three at 3 dots, five at 2, seven at 1<br />-Specialist:One skill at 4, Three at 3, Three at 1.<br />Additionally, if you have at least one dot in Academics, Craft, Performance, and/or Science, you gain a free Specialty. You add one additional dice to a roll when the Specialty is relevant.";
      else if (subject == "specialties")
        parId.innerHTML ="PHYSICAL SKILLS <br /> <b>Athletics</b>: Acrobatics, Archery, Climbing, Endurance, Jumping, Parkour, Swimming, Throwing <br /><b>Brawl</b>: Animals, Armed Sleepers, Bar Fights, Grappling, Mages, Sporting Combat, Unarmed Sleepers, Agents <br /><b>Craft</b>: Carpentry, Carving, Design, Painting, Sculpting, Sewing, Weaponsmithing<br /><b>Drive</b>: All-Terrain Vehicles, Evasion, Motorcycles, Street Racing, Stunts, Tailing, Trucks, Vintage Models<br /><b>Firearms</b>: Crossbows, Gun Dealing, Gunsmithing, Handloading Ammunition, Quick-Draw, Sniper, Trick Shooting<br /><b>Larceny</b>: Alarms, Forgery, Grand Theft Auto, Housebreaking, Lockpicking, Pickpocket, Safecracking, Security Analysis<br /><b>Melee</b>: Axes, Chains, Clubs, Fencing, Disarming Blows, Garrotes, Improvised Weapons, Knives, Stakes, Swords<br /><b>Stealth</b>: Ambushes, Crowds, Disguise, Hiding, Shadowing, Silent Movement, Urban, Wilderness<br /><b>Survival</b>: Desert, Hunting, Jungle, Tracking, Traps, Shelters, Urban Exploration, Woodlands<br />SOCIAL SKILLS <br /><b>Animal Ken</b>: Attack Training, Cats, Dogs, Falconry, Horses, Pacification, Pigeons, Rats, Snakes, Stunt Training<br /><b>Etiquette</b>: Agents, Celebrities, Corporate, Elysium, Feudal, One-Percenter, Secret Society<br /><b>Insight</b>: Ambitions, Desires, Detect Lies, Emotions, Empathy, Interrogation, Motives, Phobias, Vices<br /><b>Intimidation</b>: Extortion, Insults, Interrogation, Physical Coercion, Staredowns, Veiled Threats<br /><b>Leadership</b>: Command, Inspiration, Ritual Coordination, Team Dynamics, War Pack<br /><b>Performance</b>: Comedy, Dance, Drama, Drums, Guitar, Keyboards, Poetry, Public Speaking, Rap, Singing, Violin, Wind Instruments<br /><b>Persuasion</b>: Bargaining, Fast Talk, Interrogation, Legal Argument, Negotiation, Rhetoric<br /><b>Streetwise</b>: Arms Dealing, Black Market, Bribery, Drugs, Fence Stolen Goods, Gangs, Graffiti, Personal Rep, Sex Trade, Urban Survival<br /><b>Subterfuge</b>: Bluff, Feign Mortality, Impeccable Lies, Innocence, The Long Con, Seduction<br />MENTAL SKILLS <br /><b>Academics</b>: Architecture, English Literature, History of Art, History (specific Field or Period), Journalism, Philosophy, Research, Teaching, Theology<br /><b>Awareness</b>: Ambushes, Camouflage, Concealed Objects, Hearing, Instincts, Smell, Sight, Traps, Wilderness<br /><b>Finance</b>: Appraisal, Banking, Black Markets, Corporate Finance, Currency Manipulation, Fine Art, Forensic Accounting, Money Laundering, Stock Market<br /><b>Investigation</b>: Criminology, Deduction, Forensics, Missing Persons, Murder, Paranormal Mysteries, Traffic Analysis<br /><b>Medicine</b>: First Aid, Haematology, Pathology, Pharmacy, Phlebotomy, Surgery, Trauma Care, Veterinary<br /><b>Occult</b>: Alchemy, Artifacts, Lefthand Magic, Ghosts, Necromancy, Reality Theories, Parapsychology, Voudun<br /><b>Politics</b>: City Government, Diplomacy, Lobbying,  Mage Alliances, Media, National Politics, State/Provincial Politics<br /><b>Science</b>: Astronomy, Biology, Chemistry, Demolitions, Engineering, Genetics, Geology, Mathematics, Physics<br /><b>Technology</b>: Artillery, Coding, Computer Building, Data Mining, Hacking, Networks, Phones, Surveillance Systems";
      }
    </script>
  </body>
</html>
